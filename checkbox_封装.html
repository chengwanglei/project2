<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
table{ border:1px solid #333; border-collapse:collapse}
td{ border:1px solid #333; padding:10px}
</style>

</head>

<body>



<input id="checkAll" type="checkbox" >全选

<div  id="box">
	<input type="checkbox">
	<input type="checkbox">
	<input type="checkbox">
</div>

<br>
<br>
<br>
<br>

<table>
	<thead></thead>
    <tbody>
    	<tr>
            <td><input type="checkbox"></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td><input type="checkbox"></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td><input type="checkbox"></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td><input type="checkbox"></td>
            <td></td>
            <td></td>
        </tr>
    </tbody>
    <tfoot>
    	<tr>
            <td><input id="table_checkAll" type="checkbox" >全选</td>
            <td></td>
            <td></td>
        </tr>
    </tfoot>
	
    
</table>
</div>






</body>
</html>
<script>
function checkAll_tools(checkAll_id,inputs){//checkAll_id:全选按钮   inputs：被选中的集合
	//找到谁  事件 让谁 干啥
	var checkAll=document.getElementById(checkAll_id);
	var n=0;//计数器
	checkAll.onclick=function(){
		for(var i=0; i<inputs.length; i++){
			
			if(this.checked==true){
				inputs[i].checked=true;
				n=inputs.length;
			}else{
				inputs[i].checked=false;
				n=0;
			};
		};
	};
	
	
	for(var i=0; i<inputs.length; i++){
		inputs[i].onclick=function(){
			if(this.checked){
				n++;
			}else{
				n--;
			};
			
			if(n==inputs.length){
				checkAll.checked=true;
			}else{
				checkAll.checked=false;
			}
		}
	}
};


var allInputs=document.getElementById('box').getElementsByTagName('input');
var table_inputs=document.getElementsByTagName('tbody')[0].getElementsByTagName('input');


checkAll_tools("checkAll",allInputs);


checkAll_tools("table_checkAll",table_inputs)




	
	



</script>